<!DOCTYPE html>
<html>
  <head>
  <title>Rock-Paper-Scissors</title>
  </head>
  <body>
    <h1>Rock-Paper-Scissors Game</h1>

    <button onclick="playGame('rock')">Rock</button>

    <button onclick="playGame('paper')">Paper</button>

    <button onclick="playGame('scissors')">Scissors</button>

    <p class="js-moves"></p>
    <p class="js-result"></p>
    <p class="js-score"></p>

    <button onclick="
    deleteScore(), 
    updateScoreElement()"
    >Reset Score</button>

    <script>

        let score = JSON.parse(localStorage.getItem('score')) || {
            wins: 0,
            losses: 0,
            ties: 0
            };

        updateScoreElement();

        document.querySelector('.js-result').innerHTML = result;

        document.querySelector('.js-moves').innerHTML = `You picked ${capitalize(playerMove)}. Computer picked ${computerMove}.`;


        function playGame(playerMove) {
            const computerMove = pickComputerMove();
            let result = '';

            if (playerMove === computerMove) {
                result = 'TIE',
                score.ties += 1;
                console.log(score)
                
            } else if (
                (playerMove === 'rock' && computerMove === 'scissors') ||
                (playerMove === 'paper' && computerMove === 'rock') ||
                (playerMove === 'scissors' && computerMove === 'paper')
            ) {
                result = 'WIN',
                score.wins += 1;
                console.log(score);
                
            } else {
                result = 'LOSE',
                score.losses += 1;
                console.log(score);
                
            }

            localStorage.setItem('score', JSON.stringify(score));

            updateScoreElement();

            document.querySelector('.js-result').innerHTML = result;

            document.querySelector('.js-moves').innerHTML = `You picked ${capitalize(playerMove)}. Computer picked ${capitalize(computerMove)}.`;
        }

        function updateScoreElement() {
            document.querySelector('.js-score').textContent =
            `Score - Wins: ${score.wins},
            Losses: ${score.losses},
            Ties: ${score.ties}`;
        }

        function pickComputerMove() {
            const randomNumber = Math.random();
            let computerMove = '';

            if (randomNumber < 1/3) {
                computerMove = 'rock';
            } else if (randomNumber < 2/3) {
                computerMove = 'paper';
            } else {
                computerMove = 'scissors';
            }

            return computerMove;
        }

        function capitalize(s) {
            return s.charAt(0).toUpperCase() + s.slice(1);
        }

        function deleteScore() {
            score.wins = 0;
            score.losses = 0;
            score.ties = 0;
            localStorage.removeItem('score');
            console.log('Score reset:', score);
            alert('Score has been reset to 0.');
        }
    </script>
  </body>
</html> 